<div dir="rtl">
  <div *ngIf="pageMode=='list'">
    <div class="jumbotron pt-2 pb-2">
      <h2>{{resource.default.document_module_title}}</h2>
      <p>{{resource.default.document_module_description}}</p>
    </div>
    <div class="m-4">
      <ag-grid-angular style="width: 100%; height: 350px;"
                       enableRtl="true"
                       class="ag-theme-balham"
                       suppressSizeToFit="true"
                       [rowData]="rowData"
                       [defaultColDef]="defaultColDef"
                       [columnDefs]="columnDefs"
                       [rowSelection]="rowSelection"
                       [gridOptions]="gridOptions"
                       [pagination]="true"
                       [paginationAutoPageSize]="true"
                       [stopEditingWhenGridLosesFocus]="true"
                       [modules]="modules"
                       (selectionChanged)="onSelectionChanged($event)"
                       (gridReady)="onGridReady($event)">
      </ag-grid-angular>
      <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
        <button type="button" class="btn btn-sm mr-2 btn-primary" (click)="add()"><i class="fa fa-plus"></i> {{resource.default.add}}</button>
        <button type="button" class="btn btn-sm mr-2 btn-primary" (click)="edit()"><i class="fa fa-edit"></i> {{resource.default.edit}}</button>
        <button type="button" class="btn btn-sm mr-2 btn-secondary" (click)="delete()"><i class="fa fa-remove"></i> {{resource.default.delete}}</button>
        <button type="button" class="btn btn-sm mr-2 btn-secondary" (click)="exportToExcel()"><i class="fa fa-table"></i> {{resource.default.excel}}</button>
      </div>
    </div>    
  </div>
  <div *ngIf="pageMode=='form'">
    <div class="jumbotron pt-2 pb-2">
      <h2>{{resource.default.document_module_title}}</h2>
      <p>{{resource.default.document_subject}}: <span>{{form.value.subject}}</span> - {{resource.default.document_id}}: <span>{{form.value.id}}</span></p>
    </div>
    <section class="m-2">
      <form class="text-left border border-light p-2" (ngSubmit)="save()" [formGroup]="form">

        <div class="form-group">
          <label for="txtNo">{{resource.default.document_no}}</label>
          <input type="text" id="txtNo" class="form-control" formControlName="no" placeholder="{{resource.default.document_no_placeholder}}">
        </div>
        <div class="form-group">
          <label for="txtSubject">{{resource.default.document_subject}}</label>
          <input type="text" id="txtSubject" class="form-control" formControlName="subject" placeholder="{{resource.default.document_subject_placeholder}}">
        </div>
        <div class="form-group dpDayPicker">
          <label for="txtDateOfRelease">{{resource.default.document_dateOfRelease}}</label>
          <input [dpDayPicker]="config" theme="dp-material" type="text" id="txtDateOfRelease" class="form-control" formControlName="dateOfRelease" placeholder="{{resource.default.document_dateOfRelease_placeholder}}">
        </div>
        <div class="form-group dpDayPicker">
          <label for="txtDateOfCreate">{{resource.default.document_dateOfCreate}}</label>
          <input [dpDayPicker]="config" theme="dp-material" type="text" id="txtDateOfCreate" class="form-control" formControlName="dateOfCreate" placeholder="{{resource.default.document_dateOfCreate_placeholder}}">
        </div>
        <div class="form-group">
          <label for="txtCreator">{{resource.default.document_creator}}</label>
          <input type="text" id="txtCreator" class="form-control" formControlName="subject" placeholder="{{resource.default.document_creator_placeholder}}">
        </div>
        <div class="form-group">
          <label for="txtIssuer">{{resource.default.document_issuer}}</label>
          <select id="txtIssuer" class="form-control" formControlName="issuerId">
            <option [ngValue]="null" disabled>{{resource.default.document_issuer_placeholder}}</option>
            <option *ngFor="let r of issuerList" [value]="r.id">
              {{r.title}}
            </option>
          </select>
        </div>
        <div class="form-group">
          <label for="txtDomainId">{{resource.default.document_domain}}</label>
          <select id="txtDomainId" class="form-control" formControlName="domainId">
            <option [ngValue]="null" disabled>{{resource.default.document_domain_placeholder}}</option>
            <option *ngFor="let r of domainList" [value]="r.id">
              {{r.title}}
            </option>
          </select>
        </div>
        <div class="form-group">
          <label for="txtTypeId">{{resource.default.document_type}}</label>
          <select id="txtTypeId" class="form-control" formControlName="typeId">
            <option [ngValue]="null" disabled>{{resource.default.document_type_placeholder}}</option>
            <option *ngFor="let r of typeList" [value]="r.id">
              {{r.title}}
            </option>
          </select>
        </div>
        <div class="form-group">
          <label for="file">{{resource.default.document_file}}</label>
          <input type="file" id="file" class="form-control-file" (change)="handleFileInput($event.target.files)" />
        </div>
        <!-- Save in button -->
        <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
          <button class="btn btn-sm mr-2 btn-success" type="submit">{{resource.default.save}}</button>
          <button class="btn btn-sm mr-2 btn-secondary" (click)="cancel()">{{resource.default.return}}</button>
        </div>
      </form>
    </section>
  </div>
</div>
  
